{
  "version": 2,
  "functions": {
    "api/buildings.js": {
      "includeFiles": "backend/src/data/buildings.json"
    },
    "api/static/[...path].js": {
      "includeFiles": "backend/public/**"
    }
  },
  "buildCommand": "cd frontend && npm install && npm run build",
  "outputDirectory": "frontend/dist",
  "routes": [
    {
      "handle": "filesystem"
    },
    {
      "src": "/api/static/(.*)",
      "dest": "/api/static/[...path].js?path=$1"
    },
    {
      "src": "/api/buildings$",
      "dest": "/api/buildings.js"
    },
    {
      "src": "/api/buildings/(.*)",
      "dest": "/api/buildings.js?id=$1"
    },
    {
      "src": "/api/health$",
      "dest": "/api/health.js"
    },
    {
      "src": "/images/(.*)",
      "dest": "/api/static/[...path].js?path=images/$1"
    },
    {
      "src": "/models/(.*)",
      "dest": "/api/static/[...path].js?path=models/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/"
    }
  ]
}
